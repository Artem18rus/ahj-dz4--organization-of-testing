{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj-dz4--organization-of-testing/./src/index.html","webpack://ahj-dz4--organization-of-testing/webpack/bootstrap","webpack://ahj-dz4--organization-of-testing/./src/js/widget.js","webpack://ahj-dz4--organization-of-testing/./src/js/app.js"],"sourcesContent":["// Module\nvar code = \"<!DOCTYPE html> <html lang=\\\"en\\\"> <head> <meta charset=\\\"UTF-8\\\"> <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1\\\"> <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"ie=edge\\\"> <title>Document</title> </head> <body> <div class=\\\"container\\\"></div> </body> </html> \";\n// Exports\nmodule.exports = code;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/* eslint-disable eqeqeq */\n/* eslint-disable max-len */\nexport default class InnFormWidget {\n  constructor(parentEl) {\n    this.parentEl = parentEl;\n\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  static get markup() {\n    return `\n      <h3>Check your credit card number</h3>\n        <ul class=\"cards list-unstyled\">\n          <li><span class=\"card visa\" title=\"Visa\">Visa</span></li>\n          <li><span class=\"card master\" title=\"Mastercard\">Mastercard</span></li>\n          <li><span class=\"card amex\" title=\"American Express\">American Express</span></li>\n          <li><span class=\"card discover\" title=\"Discover\">Discover</span></li>\n          <li><span class=\"card jcb\" title=\"JCB\">JCB</span></li>\n          <li><span class=\"card diners_club\" title=\"Diners Club\">Diners Club</span></li>\n          <li><span class=\"card mir\" title=\"Mir\">Mir</span></li>\n        </ul>\n      <form id=\"form\" class=\"form-inline\">\n        <div class=\"form-group\">\n          <input class=\"input\" name=\"card_number\" type=\"text\" placeholder=\"Credit card number\">\n          <button class=\"submit btn btn-success\">Click to Validate</button>\n        </div>\n      </form>\n      `;\n  }\n\n  static get selector() {\n    return '.form-inline';\n  }\n\n  static get inputSelector() {\n    return '.input';\n  }\n\n  static get submitSelector() {\n    return '.submit';\n  }\n\n  bindToDOM() {\n    this.parentEl.innerHTML = InnFormWidget.markup;\n\n    this.element = this.parentEl.querySelector(InnFormWidget.selector);\n    this.submit = this.element.querySelector(InnFormWidget.submitSelector);\n    this.input = this.element.querySelector(InnFormWidget.inputSelector);\n\n    const visa = document.querySelector('.visa');\n    const master = document.querySelector('.master');\n    const amex = document.querySelector('.amex');\n    const discover = document.querySelector('.discover');\n    const jcb = document.querySelector('.jcb');\n    const dinersClub = document.querySelector('.diners_club');\n    const mir = document.querySelector('.mir');\n\n    this.input.addEventListener('input', () => {\n      if ((this.input.value[0] == 3 && this.input.value[1] == 7)\n        || (this.input.value[0] == 3 && this.input.value[1] == 4)) {\n        visa.classList.add('cdisabled');\n        master.classList.add('cdisabled');\n        discover.classList.add('cdisabled');\n        jcb.classList.add('cdisabled');\n        dinersClub.classList.add('cdisabled');\n        mir.classList.add('cdisabled');\n      }\n      if ((this.input.value[0] == 3 && this.input.value[1] == 0)\n        || (this.input.value[0] == 3 && this.input.value[1] == 6)\n        || (this.input.value[0] == 5 && this.input.value[1] == 4)) {\n        visa.classList.add('cdisabled');\n        master.classList.add('cdisabled');\n        discover.classList.add('cdisabled');\n        jcb.classList.add('cdisabled');\n        amex.classList.add('cdisabled');\n        mir.classList.add('cdisabled');\n      }\n      if (this.input.value[0] == 6) {\n        visa.classList.add('cdisabled');\n        master.classList.add('cdisabled');\n        dinersClub.classList.add('cdisabled');\n        jcb.classList.add('cdisabled');\n        amex.classList.add('cdisabled');\n        mir.classList.add('cdisabled');\n      }\n      if ((this.input.value[0] == 3 && this.input.value[1] == 5 && this.input.value[2] == 2 && this.input.value[3] == 8)\n        || (this.input.value[0] == 3 && this.input.value[1] == 5 && this.input.value[2] == 8 && this.input.value[3] == 9)) {\n        visa.classList.add('cdisabled');\n        master.classList.add('cdisabled');\n        dinersClub.classList.add('cdisabled');\n        discover.classList.add('cdisabled');\n        amex.classList.add('cdisabled');\n        mir.classList.add('cdisabled');\n      }\n      if (this.input.value[0] == 5) {\n        visa.classList.add('cdisabled');\n        jcb.classList.add('cdisabled');\n        dinersClub.classList.add('cdisabled');\n        discover.classList.add('cdisabled');\n        amex.classList.add('cdisabled');\n        mir.classList.add('cdisabled');\n      }\n      if (this.input.value[0] == 4) {\n        master.classList.add('cdisabled');\n        jcb.classList.add('cdisabled');\n        dinersClub.classList.add('cdisabled');\n        discover.classList.add('cdisabled');\n        amex.classList.add('cdisabled');\n        mir.classList.add('cdisabled');\n      }\n      if (this.input.value[0] == 2) {\n        visa.classList.add('cdisabled');\n        master.classList.add('cdisabled');\n        jcb.classList.add('cdisabled');\n        dinersClub.classList.add('cdisabled');\n        discover.classList.add('cdisabled');\n        amex.classList.add('cdisabled');\n      }\n      if (!this.input.value) {\n        visa.classList.remove('cdisabled');\n        master.classList.remove('cdisabled');\n        jcb.classList.remove('cdisabled');\n        dinersClub.classList.remove('cdisabled');\n        discover.classList.remove('cdisabled');\n        amex.classList.remove('cdisabled');\n        mir.classList.remove('cdisabled');\n      }\n    });\n    this.element.addEventListener('submit', this.onSubmit);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const arrFormValue = Array.from(this.input.value);\n    const lastNumber = arrFormValue[arrFormValue.length - 1]; // последняя цифра(контрольная)\n    function checkingCard() {\n      arrFormValue.pop();\n      const arrFormValue2 = arrFormValue.reverse(); // числа без контрольной цифры в обратном порядке\n\n      const arrMultiplied = []; // результат (четные цифры по порядку умножаем на 2, нечетные оставляем)\n      for (let i = 0; i < arrFormValue2.length; i += 1) {\n        if (i % 2 == 0) {\n          arrMultiplied.push(arrFormValue2[i] * 2);\n        } else {\n          arrMultiplied.push(+arrFormValue2[i]);\n        }\n      }\n\n      const arrTotal = []; // если получаются четные цифры по порядку, умноженные на 2, больше 10 то суммируем состав числа\n      for (let i = 0; i < arrMultiplied.length; i += 1) {\n        if (arrMultiplied[i] >= 10) {\n          arrTotal.push((arrMultiplied[i] % 10) + 1);\n        } else {\n          arrTotal.push(arrMultiplied[i]);\n        }\n      }\n\n      let sum = 0;\n      for (let i = 0; i < arrTotal.length; i += 1) { // вычисляем сумму цифр без клнтрольной цифры\n        sum += arrTotal[i];\n      }\n\n      const sumResult = sum + Number(lastNumber); // вычисляем сумму всех цифр включая последнюю (контрольную цифру)\n      const input = document.querySelector('.input');\n      if ((sum % 10 == lastNumber) || (sumResult % 10 == 0)) { // если сумма цифр без остатка делится на 10 то все верно\n        input.classList.remove('invalid');\n        input.classList.add('valid');\n        return true;\n      }\n      input.classList.remove('valid');\n      input.classList.add('invalid');\n      return false;\n    }\n    checkingCard();\n  }\n}\n","import InnFormWidget from './widget';\n\nconst container = document.querySelector('.container');\nconst form = new InnFormWidget(container);\n\nform.bindToDOM();\n"],"names":["module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","InnFormWidget","constructor","parentEl","this","onSubmit","bind","markup","selector","inputSelector","submitSelector","bindToDOM","innerHTML","element","querySelector","submit","input","visa","document","master","amex","discover","jcb","dinersClub","mir","addEventListener","value","classList","add","remove","e","preventDefault","arrFormValue","Array","from","lastNumber","length","pop","arrFormValue2","reverse","arrMultiplied","i","push","arrTotal","sum","sumResult","Number","checkingCard","container"],"sourceRoot":""}